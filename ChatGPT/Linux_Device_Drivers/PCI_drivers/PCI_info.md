在Linux系统中，`lspci`命令以及`/proc`和`/sys`文件系统中的内容可以提供关于PCIe设备的详细信息。以下是这些工具和文件系统中有关PCIe信息的介绍：

### **1. `lspci`命令**

`lspci` 是一个显示系统中所有PCI和PCIe设备的命令。它可以提供设备的详细信息，如设备ID、供应商ID、类代码等。`lspci` 可以显示的信息包括：

- **设备列表**：默认情况下，`lspci`显示所有检测到的PCI和PCIe设备。
- **详细信息**：通过添加 `-v` 或 `-vv` 参数，可以显示更加详细的信息，包括设备的配置空间内容、I/O地址、内存地址、中断号等。
- **硬件路径**：`lspci -t` 显示设备在PCI总线中的拓扑结构。
- **设备配置空间**：使用 `-xxx` 参数可以查看设备的配置空间的内容。
- **特定信息**：可以使用 `-s` 参数指定设备的总线号、设备号和功能号来获取特定设备的信息。

示例：
```bash
lspci -v
lspci -s 00:1f.2 -vv
lspci -t
```

### **2. `/proc` 文件系统中的PCIe信息**

`/proc` 文件系统是一个虚拟文件系统，用于提供系统内核和进程的信息。与PCIe相关的信息主要存储在 `/proc/bus/pci` 目录中。

- **`/proc/bus/pci/`**：这个目录包含系统中每个PCI设备的配置空间的二进制表示形式。文件名通常是总线号、设备号和功能号的组合。
- **`/proc/bus/pci/devices`**：这个文件列出了所有PCI设备的信息，包括设备ID、供应商ID、已分配的I/O和内存地址等。
- **`/proc/bus/pci/slots`**：这个文件显示系统中PCI插槽的信息（如果有的话）。

### **3. `/sys` 文件系统中的PCIe信息**

`/sys` 文件系统（sysfs）提供了对系统设备和驱动程序的详细信息。与PCIe相关的信息通常可以在 `/sys/bus/pci/` 目录中找到。

- **`/sys/bus/pci/devices/`**：每个PCI设备都有一个对应的目录，其名称通常是设备的总线号、设备号和功能号（如 `0000:00:1f.2`）。这个目录包含了设备的各种属性文件，如：
    - **`vendor`**：设备的供应商ID。
    - **`device`**：设备ID。
    - **`class`**：设备类别。
    - **`irq`**：设备使用的中断号。
    - **`resource`**：列出设备使用的资源（如I/O和内存地址）。
    - **`numa_node`**：设备关联的NUMA节点（如果系统支持NUMA）。
    - **`driver`**：指向设备所使用的驱动程序的符号链接。

- **`/sys/class/pci_bus/`**：包含PCI总线的相关信息，如总线号、已分配的资源等。

- **`/sys/bus/pci/slots/`**：包含PCIe插槽的信息，特别是那些支持热插拔功能的插槽。

- **`/sys/kernel/iommu_groups/`**：如果系统使用IOMMU（输入输出内存管理单元），此目录中会显示设备和其相关联的IOMMU组信息。

这些文件和目录提供了对PCIe设备的深度信息访问，适用于诊断、配置和调试硬件设备。通过结合使用 `lspci` 命令以及检查 `/proc` 和 `/sys` 文件系统，用户可以获取和管理PCIe设备的广泛信息。