系统调用参数传递的具体过程取决于所使用的 CPU 架构和操作系统。以下是系统调用参数传递的通用步骤及不同架构下的具体实现。

### 通用步骤

1. **准备参数**: 用户态程序将系统调用所需的参数准备好。
2. **设置寄存器/内存**: 将参数存入特定的寄存器或内存位置。
3. **触发系统调用**: 使用特定的指令（如 `int 0x80`、`syscall`、`sysenter` 等）触发系统调用。
4. **内核接收参数**: 内核接收参数并执行相应的系统调用处理函数。

### x86 架构 (32-bit)

在 x86 32位架构上，系统调用通常使用 `int 0x80` 指令，参数通过寄存器传递。

1. **用户态准备参数**:
    - 将系统调用号存入 `eax` 寄存器。
    - 将第一个参数存入 `ebx` 寄存器。
    - 将第二个参数存入 `ecx` 寄存器。
    - 将第三个参数存入 `edx` 寄存器。
    - 其他参数存入 `esi`、`edi` 和 `ebp` 寄存器。

2. **触发系统调用**:
   ```assembly
   mov eax, syscall_number
   mov ebx, param1
   mov ecx, param2
   mov edx, param3
   int 0x80
   ```

3. **内核接收参数**:
    - 内核系统调用入口处理函数从寄存器中提取参数，并调用相应的系统调用处理函数。

### x86_64 架构 (64-bit)

在 x86_64 架构上，系统调用通常使用 `syscall` 指令，参数通过寄存器传递。

1. **用户态准备参数**:
    - 将系统调用号存入 `rax` 寄存器。
    - 将第一个参数存入 `rdi` 寄存器。
    - 将第二个参数存入 `rsi` 寄存器。
    - 将第三个参数存入 `rdx` 寄存器。
    - 将第四个参数存入 `r10` 寄存器。
    - 将第五个参数存入 `r8` 寄存器。
    - 将第六个参数存入 `r9` 寄存器。

2. **触发系统调用**:
   ```assembly
   mov rax, syscall_number
   mov rdi, param1
   mov rsi, param2
   mov rdx, param3
   mov r10, param4
   mov r8, param5
   mov r9, param6
   syscall
   ```

3. **内核接收参数**:
    - 内核系统调用入口处理函数从寄存器中提取参数，并调用相应的系统调用处理函数。

### ARM 架构

在 ARM 架构上，系统调用通常使用 `svc` 指令，参数通过寄存器传递。

1. **用户态准备参数**:
    - 将系统调用号存入 `r7` 寄存器。
    - 将第一个参数存入 `r0` 寄存器。
    - 将第二个参数存入 `r1` 寄存器。
    - 将第三个参数存入 `r2` 寄存器。
    - 将第四个参数存入 `r3` 寄存器。
    - 其他参数存入 `r4`、`r5` 和 `r6` 寄存器。

2. **触发系统调用**:
   ```assembly
   mov r7, syscall_number
   mov r0, param1
   mov r1, param2
   mov r2, param3
   mov r3, param4
   svc 0
   ```

3. **内核接收参数**:
    - 内核系统调用入口处理函数从寄存器中提取参数，并调用相应的系统调用处理函数。

### 系统调用参数传递的具体实现细节

具体实现细节可能因操作系统不同而有所差异。以下是 Linux 内核中系统调用参数传递的一些关键步骤：

1. **系统调用入口函数**:
    - 系统调用触发后，控制权转移到内核态的系统调用入口函数（例如 `entry.S` 中的 `system_call`）。

2. **保存上下文**:
    - 内核保存当前的寄存器状态，以便在系统调用返回时恢复。

3. **查找系统调用处理函数**:
    - 根据系统调用号，从系统调用表（`sys_call_table`）中查找对应的系统调用处理函数。

4. **提取参数并调用处理函数**:
    - 内核从寄存器中提取参数，并将其传递给系统调用处理函数。

5. **处理系统调用**:
    - 系统调用处理函数执行相应的内核操作，并设置返回值。

6. **返回用户态**:
    - 恢复用户态上下文，并将系统调用的返回值传递回用户态。

通过上述步骤，系统调用实现了用户态程序与内核之间的参数传递和功能调用。如果你对某个具体系统调用的实现细节有兴趣，可以进一步深入研究特定操作系统的源码。