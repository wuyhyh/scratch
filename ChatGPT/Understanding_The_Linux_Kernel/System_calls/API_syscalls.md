系统调用和API（应用程序编程接口）是操作系统和应用程序之间进行交互的重要机制，它们在功能和用途上有一些重要的区别：

### 系统调用 (System Call)
1. **定义**: 系统调用是操作系统提供的、供用户程序调用以执行内核功能的接口。它们允许用户程序请求操作系统内核执行特定的任务，如文件操作、进程控制、内存管理等。
2. **层级**: 系统调用位于操作系统内核层，是操作系统对外暴露的接口。
3. **功能**: 提供底层功能，如文件读写、进程创建、网络通信等。
4. **调用方式**: 通过特定的指令（如 `int 0x80` 或 `syscall`）将控制权从用户态切换到内核态。这个过程涉及上下文切换和权限级别的转换。
5. **效率**: 系统调用通常比用户态的函数调用开销更大，因为它涉及从用户态到内核态的上下文切换。

### API (Application Programming Interface)
1. **定义**: API 是一组函数和方法，供应用程序调用以实现某些功能。API可以由操作系统、库或服务提供，供应用程序开发者使用。
2. **层级**: API 通常位于用户态，调用后可能会间接地使用系统调用来实现底层功能。
3. **功能**: 提供更高层次的功能，可能会封装多个系统调用，以提供更便捷的接口。例如，标准 C 库 (libc) 提供的函数就是通过封装系统调用来实现的。
4. **调用方式**: 直接调用库函数，调用后库函数可能会进一步调用系统调用以完成实际工作。
5. **效率**: API 调用通常开销较低，因为它们在用户态执行，不涉及上下文切换。但实际效率取决于 API 的具体实现。

### 举例
1. **系统调用**: 在 Linux 中，`open` 是一个系统调用，用于打开文件：
   ```c
   int fd = syscall(SYS_open, "filename", O_RDONLY);
   ```
2. **API**: 标准 C 库中提供的 `fopen` 函数是一个 API，它封装了 `open` 系统调用并提供了更易用的接口：
   ```c
   FILE *file = fopen("filename", "r");
   ```

总结来说，系统调用是操作系统提供的底层接口，而API是为开发者提供的更高层、更易用的编程接口。API 可以通过调用系统调用来实现其功能，但对开发者隐藏了底层的复杂性。